using System;

namespace DistanceTask;

public static class DistanceTask
{
    public static double GetDistanceToSegment(double ax, double ay, double bx, double by, double x, double y)
    {
        var abx = bx - ax;
        var aby = by - ay;
        var apx = x - ax;
        var apy = y - ay;
        var bpx = x - bx;
        var bpy = y - by;

        var abLengthSquared = abx * abx + aby * aby;

        if (abLengthSquared == 0)
            return Math.Sqrt(apx * apx + apy * apy);

        var t = (apx * abx + apy * aby) / abLengthSquared;

        if (t < 0)
            return Math.Sqrt(apx * apx + apy * apy);
        if (t > 1)
            return Math.Sqrt(bpx * bpx + bpy * bpy);

        var projX = ax + t * abx;
        var projY = ay + t * aby;

        var dx = x - projX;
        var dy = y - projY;
        return Math.Sqrt(dx * dx + dy * dy);
    }
}
